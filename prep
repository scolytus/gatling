case `uname -s` in
  Linux)
    sysctl -w kernel.threads-max=6000
    ;;
  FreeBSD)
    sysctl -w kern.maxfiles=11000
    sysctl -w kern.maxfilesperproc=11000
    sysctl -w kern.maxproc=6000
    sysctl -w kern.maxprocperuid=6000
    ;;
  OpenBSD)
    sysctl -w kern.maxfiles=11000
    sysctl -w kern.maxproc=6000
    ;;
  NetBSD)
    sysctl -w kern.maxfiles=11000
    sysctl -w kern.maxproc=6000
    ;;
esac

